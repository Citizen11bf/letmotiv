<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Simulateur d'improvisation</title>
  <meta name="description" content="Évaluer et développer sa prise de parole en public avec le simulateur d'improvisation Letmotiv."/>
  <link rel="icon" href="https://raw.githubusercontent.com/Citizen11bf/letmotiv/refs/heads/images/Letmotiv_favicon.webp" type="image/png"/><link rel="apple-touch-icon" href="https://raw.githubusercontent.com/Citizen11bf/letmotiv/refs/heads/images/Letmotiv_favicon.webp"/>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans&family=Montserrat:wght@700&display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Poppins:900i" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet"/>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Simulateur d'improvisation Letmotiv","url":"https://letmotiv-simulateur.fr","description":"Évaluer et développer sa prise de parole en public avec le simulateur d'improvisation Letmotiv.","publisher":{"@type":"Organization","name":"Letmotiv","logo":"https://letmotiv-simulateur.fr/logo.png"}}</script>
  <style>
    *{box-sizing:border-box;}body{margin:0;padding:60px 0 20px;font-family:'DM Sans',sans-serif;background:#fff;color:#333}
    .header{background:#182d84;color:#fff;font: bold 16px/1 sans-serif;text-align:center;padding:10px;position:fixed;top:0;left:0;width:100%;z-index:10}.header-content{display:flex;flex-direction:column;align-items:center;gap:5px}.header-l2{font:normal 14px/1 sans-serif}
    .progress-container{position:fixed;top:60px;left:0;width:100%;height:10px;background:rgba(24,45,132,.1);z-index:9}.progress-bar{width:0;height:100%;background:#00a48a;transition:width .5s}
    .intro-box{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#182d84,#00a48a);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#fff;z-index:20;animation:fadeIn 1s forwards}.intro-box h1{font-family:'Montserrat',sans-serif;font-size:2.8rem;margin-bottom:50px;animation:slideDown 1s forwards;text-shadow:2px 2px 8px rgba(0,0,0,.3)}.intro-box h1 span{display:block}.wrapper{display:flex;justify-content:center}.cta{display:flex;padding:10px 45px;font-family:'Poppins',sans-serif;font-size:40px;color:#fff;background:#FF5722;box-shadow:6px 6px 0 #000;transform:skewX(-15deg);border-radius:8px;text-decoration:none;transition:.5s}.cta:hover{box-shadow:10px 10px 0 #FBC638}.cta span{transform:skewX(15deg)}.cta span:nth-child(2){margin-left:30px;transition:.3s}.cta:hover span:nth-child(2){margin-right:45px}@media(max-width:600px){.cta{font-size:28px;padding:8px 30px}.cta svg{width:40px;height:30px}.mobile-break{display:inline}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideDown{from{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}
    .main-container{position:relative;padding:20px}
    .box{display:none;position:relative;width:100%;max-width:600px;margin:20px auto;padding:20px;border-radius:15px;background:linear-gradient(135deg,#fff,#f9f9f9);box-shadow:0 4px 12px rgba(0,0,0,.1);text-align:center;font-size:14px;transition:opacity .5s}.box.active{display:block;opacity:1}.slide-from-bottom{animation:fromBottom 1.5s forwards}.slide-from-top{animation:fromTop 1.5s forwards}@keyframes fromBottom{from{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes fromTop{from{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}
    .box-header{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.back-btn{border:none;background:#808;color:#fff;font-size:16px;cursor:pointer;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:.3s}.back-btn:hover{background:#505;transform:scale(1.1)}.back-btn:active{background:#303}.back-btn.hidden-visibility{display:none}.box-title{font: bold 16px/1 sans-serif;color:#182d84}
    .next-btn{width:40px;height:40px;border:2px solid #182d84;border-radius:50%;background:transparent;color:#182d84;cursor:pointer;transition:.3s;margin:10px auto}.next-btn:hover{background:#00a48a;color:#fff;transform:scale(1.05)}.next-btn.pulse{animation:electricPulse 1.5s infinite}@keyframes electricPulse{0%{box-shadow:0 0 0 0 rgba(0,164,138,.7)}70%{box-shadow:0 0 0 10px rgba(0,164,138,0)}100%{box-shadow:0 0 0 0 rgba(0,164,138,0)}}
    .btn-impro,button{margin:15px 0;padding:10px 20px;font-size:16px;background:#182d84;color:#fff;border:none;border-radius:25px;cursor:pointer;transition:.3s}.btn-impro:hover{background:#00a48a}.error-message{color:red;font-size:14px;margin-top:5px}
    .objectives-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:10px;justify-items:center;margin:10px 0}.objective-item{cursor:pointer;padding:12px;border:1px solid transparent;border-radius:10px;transition:.3s;text-align:center;color:#444;font-size:.9rem}.objective-item:hover{border-color:#00a48a;background:rgba(0,164,138,.1)}.selected-objective{transform:scale(1.1);background:rgba(0,164,138,.2);color:#00a48a;border-color:#00a48a}
    .subject-bubble{display:inline-block;position:relative;background:#fefefe;border:2px solid #ccc;border-radius:16px;padding:10px;font-size:14px;color:#333;margin:0 auto;max-width:90%}
    .video-box{margin:10px auto;border:3px solid #182d84;border-radius:6px;max-width:500px;background:#fefefe;height:300px;position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden;transition:height .5s}.video-box video{width:100%;height:100%;object-fit:cover;border-radius:4px;position:absolute;top:0;left:0;transform:scaleX(-1)}
    .video-overlay{position:absolute;z-index:2;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#555;font-size:14px;padding:20px;background:rgba(255,255,255,.6)}
    .recording-indicator{display:none;position:absolute;top:10px;right:10px;background:rgba(128,128,128,.6);padding:5px 10px;border-radius:20px;display:flex;align-items:center;gap:5px;color:#f00;font-size:14px}.recording-indicator .dot{width:10px;height:10px;border-radius:50%;background:#f00;animation:blink 1s infinite}@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
    .initial-countdown-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(128,128,128,.6);display:none;align-items:center;justify-content:center;border-radius:6px}.initial-countdown{font-size:48px;color:#fff;font-weight:bold}
    .action-container{display:flex;flex-direction:column;gap:20px;margin:20px 0}.action-square{background:#FF5722;color:#fff;border-radius:8px;padding:12px;font-size:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:filter .3s}.action-square.disabled{background:#ccc;color:#777;pointer-events:none;opacity:.6}
    .btn-newsletter{background:linear-gradient(135deg,#182d84,#00a48a);color:#fff;font-weight:bold;padding:12px 30px;border:none;border-radius:8px;cursor:pointer;transition:.3s}.btn-newsletter:hover{transform:translateY(-2px);box-shadow:0 4px 6px rgba(0,0,0,.2)}
    .newsletter-container{max-width:600px;background:#2d3748;border-radius:12px;padding:20px;margin:30px auto;color:#e2e8f0;text-align:center}.newsletter-form input{width:100%;padding:10px;border:none;border-radius:8px;background:#4a5568;color:#fff;transition:.3s}.newsletter-form input:focus{background:#2d3748;box-shadow:0 0 0 1px #3182ce}.newsletter-error{color:red;font-size:.8rem;text-align:left}.newsletter-success{color:green;font-size:.9rem;margin-top:10px}
    .calendy{text-align:center}.calendy .container{padding:10px 0}@media(min-width:601px){.main-container{display:flex;justify-content:center;align-items:center;min-height:calc(100vh-60px)}.objectives-container{display:flex;flex-wrap:wrap;gap:20px;margin:20px 0;padding:0 10px;max-width:600px;margin:auto}.objective-item{background:#f7f9fc;box-shadow:0 2px 4px rgba(0,0,0,.1);flex:1 1 150px}.objective-item:hover{transform:scale(1.03);background:#00a48a;color:#fff}}</style>
</head>
<body>
  <div class="intro-box" id="intro-box"><h1><span class="line">ENTRAINE-TOI</span><span class="line">A LA PRISE DE PAROLE</span><span class="line">EN PUBLIC</span></h1><div class="wrapper"><a id="start-intro-btn" class="cta" href="#"><span>COMMENCER</span><span><!-- SVG flèche --></span></a></div></div>
  <form id="hidden-google-form" action="https://docs.google.com/forms/d/e/1FAIpQLSfGAcKp0cV5AeVJCJBPbtKLKCLhbYySZf_FkiMg85WKVFUn6A/formResponse" method="POST" target="hidden_iframe" style="display:none"><input type="text" name="entry.1119647353" id="hidden-prenom"><input type="email" name="entry.638831312" id="hidden-email"></form><iframe name="hidden_iframe" style="display:none"></iframe>
  <div class="header"><div class="header-content"><div class="header-l1">Coaching en prise de parole</div><div class="header-l2">Simulateur d'improvisation Letmotiv</div></div></div>
  <div class="progress-container"><div class="progress-bar" id="top-progress-bar"></div></div>
  <div class="main-container">
    <div class="box" id="step1"><div class="box-header"><button class="back-btn hidden-visibility" id="back-btn1"><i class="fas fa-arrow-up"></i></button><div class="box-title">Quel est ton objectif ?</div></div><div class="objectives-container"><!-- items --></div><div id="explanation-box"></div><div id="objective-error" class="error-message"></div><button class="next-btn" id="next-btn1"><i class="fas fa-arrow-down"></i></button></div>
    <div class="box" id="step2"><div class="box-header"><button class="back-btn" id="back-btn2"><i class="fas fa-arrow-up"></i></button><div class="box-title">Prêt à relever le défi ?</div></div><button id="generate-subject-btn" class="btn-impro">Générer un sujet <i class="fas fa-random"></i></button><div id="subject-wrapper" style="display:none"><span id="subject-display"></span></div><div id="advice-toggle">Des conseils avant de démarrer ta simulation ? <i id="advice-icon" class="fas fa-chevron-down"></i></div><div id="advice-text" style="display:none">1) Positionne tes yeux à hauteur de la caméra.<br>2) Choisis un fond neutre.<br>3) Assure-toi de l'éclairage.<br>4) Vérifie son et vidéo.<br>5) Prends du plaisir.</div><div id="subject-error" class="error-message"></div><button class="next-btn" id="next-btn2"><i class="fas fa-arrow-down"></i></button></div>
    <div class="box" id="step3"><div class="box-header"><button class="back-btn" id="back-btn3"><i class="fas fa-arrow-up"></i></button><div class="box-title">C'est parti, lance ton improvisation !</div></div><div id="current-subject-display" class="subject-bubble"></div><div class="video-box"><video id="preview" autoplay muted playsinline></video><div class="video-overlay"><p>Ta vidéo va s'enregistrer ici.</p><button id="start-btn">Démarrer ton impro <i class="fas fa-video"></i></button><p>NB : ta vidéo est stockée sur ton appareil.</p></div><div class="recording-indicator" id="recording-indicator"><span class="dot"></span><div class="countdown" id="countdown">2:00</div></div><div class="initial-countdown-overlay" id="initial-countdown-overlay"><div class="initial-countdown" id="initial-countdown">3</div></div></div><div class="impro-actions"><button id="stop-btn" class="btn-impro hidden-btn">Arrêter ton impro <i class="fas fa-stop"></i></button><button id="restart-btn" class="btn-impro hidden-btn">Recommencer ton impro <i class="fas fa-redo"></i></button></div><div id="impro-error" class="error-message"></div><button class="next-btn" id="next-btn3"><i class="fas fa-arrow-down"></i></button></div>
    <div class="box" id="step4"><div class="box-header"><button class="back-btn" id="back-btn4"><i class="fas fa-arrow-up"></i></button><div class="box-title">Félicitations pour ton improvisation ! 🤩</div></div><div class="action-container"><button id="download-video-btn" class="action-square animated-border">1) Je télécharge ma vidéo</button><div id="contact-btn" class="action-square disabled"><span>2) Je veux un expert</span><div class="contact-options"><button id="contact-yes">Oui ✓</button><button id="contact-no">Non ✗</button></div></div><button id="feedback-btn" class="action-square disabled">3) J'analyse mon improvisation</button></div><div class="newsletter-container"><h2>Inscris‑toi à la newsletter :</h2><form id="newsletter-form"><input type="text" id="newsletter-prenom" placeholder="Prénom"/><div id="newsletter-prenom-error" class="newsletter-error"></div><input type="email" id="newsletter-email" placeholder="Email"/><div id="newsletter-email-error" class="newsletter-error"></div><button type="submit" class="btn-newsletter" id="newsletter-submit-btn">S'abonner</button></form><div id="newsletter-success" class="newsletter-success" style="display:none">Merci ! 🎉</div></div></div>
    <div class="box" id="step5"><div class="box-header"><button class="back-btn" id="back-btn5"><i class="fas fa-arrow-up"></i></button><div class="box-title">Planifie un appel</div></div><div class="calendy"><div class="container"><div class="calendly-inline-widget" data-url="https://calendly.com/letmotiv/premier-contact?hide_event_type_details=1" style="min-width:320px;height:600px;"></div></div></div></div>
  </div>
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>
  <script>
    /* Variables */const boxes={1:document.getElementById('step1'),2:document.getElementById('step2'),3:document.getElementById('step3'),4:document.getElementById('step4'),5:document.getElementById('step5')};const nextBtns={1:document.getElementById('next-btn1'),2:document.getElementById('next-btn2'),3:document.getElementById('next-btn3')};const backBtns={2:document.getElementById('back-btn2'),3:document.getElementById('back-btn3'),4:document.getElementById('back-btn4'),5:document.getElementById('back-btn5')};const introBox=document.getElementById('intro-box'),startIntroBtn=document.getElementById('start-intro-btn'),topProgressBar=document.getElementById('top-progress-bar');let currentStep=0,currentCategory=null,currentSubject='',isImproRecordingStarted=false,mediaRecorderInstance,recordedChunks=[],videoURL='',timerInterval,timeRemaining=120,countdown,videoDownloaded=false;
    /* History */function pushStepState(s){history.pushState({step:s},null,`#step${s}`)}window.addEventListener('popstate',e=>{if(e.state&&e.state.step){Object.values(boxes).forEach(b=>b.classList.remove('active'));boxes[e.state.step].classList.add('active');currentStep=e.state.step;updateProgressBar(e.state.step);updateShareButtonVisibility();if(e.state.step===3)document.getElementById('current-subject-display').textContent=currentSubject;}else{Object.values(boxes).forEach(b=>b.classList.remove('active'));introBox.style.display='block';currentStep=0;updateShareButtonVisibility();}});
    /* Utils */function updateProgressBar(s){topProgressBar.style.width=s>=4?'100%':`${(s/5)*100}%`}function displayError(id,msg){const el=document.getElementById(id);el.textContent=msg;el.style.display='block'}
    /* Navigation */function showBox(c,n){if(!boxes[c]||!boxes[n])return;boxes[c].classList.remove('active','slide-from-bottom','slide-from-top');boxes[n].classList.add('active',n>c?'slide-from-bottom':'slide-from-top');updateProgressBar(n);currentStep=n;pushStepState(n);if(n===3)document.getElementById('current-subject-display').textContent=currentSubject;}function initNav(){nextBtns[1].addEventListener('click',()=>{if(!document.querySelector('.selected-objective')){displayError('objective-error','Sélectionne un objectif.');return;}showBox(1,2);}));nextBtns[2].addEventListener('click',()=>{if(!currentSubject){displayError('subject-error','Génère un sujet.');return;}showBox(2,3);}));nextBtns[3].addEventListener('click',()=>{if(!isImproRecordingStarted){displayError('impro-error','Lance ton impro.');return;}showBox(3,4);}));Object.values(backBtns).forEach(btn=>btn.addEventListener('click',()=>showBox(currentStep,currentStep-1)));}initNav();
    /* Intro */ startIntroBtn.addEventListener('click', () => {
      introBox.style.animation = 'fadeOut 0.5s ease forwards';
      setTimeout(() => {
        introBox.style.display = 'none';
        boxes[1].classList.add('active','slide-from-bottom');
        currentStep = 1;
        updateProgressBar(1);
        pushStepState(1);
        updateShareButtonVisibility();
      }, 500);
    });
    /* Objectives */const explanations={convaincre:'2min pour convaincre',inspirer:'2min pour inspirer',toast:'2min pour un toast',repartie:'répartie rapide',vendre:'vendre un objet',conflit:'gérer un conflit',diction:'phrase complexe',entretien:'convaincre employeur','lacher-prise':'exprimer ta folie'};const txtFiles={convaincre:'convaincre.txt',inspirer:'inspirer.txt','lacher-prise':'lacher_prise.txt',toast:'toast.txt',repartie:'repartie.txt',vendre:'vendre.txt',conflit:'gerer_un_conflit.txt',diction:'diction.txt',entretien:'entretien.txt'};const subjectsCache={};document.querySelectorAll('.objective-item').forEach(item=>item.addEventListener('click',async()=>{document.querySelectorAll('.objective-item').forEach(el=>el.classList.remove('selected-objective'));item.classList.add('selected-objective');currentCategory=item.dataset.category;currentSubject='';document.getElementById('objective-error').style.display='none';nextBtns[1].classList.add('pulse');if(!subjectsCache[currentCategory]){const res=await fetch(txtFiles[currentCategory]);subjectsCache[currentCategory]=(await res.text()).split('\n').filter(l=>l);} })));
    /* Subjects */document.getElementById('generate-subject-btn').addEventListener('click',()=>{if(!currentCategory){displayError('objective-error','Sélectionne un objectif.');return;}const arr=subjectsCache[currentCategory];if(!arr||!arr.length){document.getElementById('subject-display').textContent='Pas de sujet.';document.getElementById('subject-wrapper').style.display='block';return;}currentSubject=arr[Math.floor(Math.random()*arr.length)];document.getElementById('subject-display').textContent=currentSubject;document.getElementById('subject-wrapper').style.display='block';nextBtns[2].classList.add('pulse');});document.getElementById('advice-toggle').addEventListener('click',()=>{const t=document.getElementById('advice-text'),i=document.getElementById('advice-icon');t.style.display=t.style.display==='block'?'none':'block';i.classList.toggle('fa-chevron-down');i.classList.toggle('fa-chevron-up');});
    /* Video */async function startImpro(){if(!currentSubject){displayError('impro-error','Génère un sujet.');return;}if(!navigator.mediaDevices){displayError('impro-error','Navigateur incompatible.');return;}if(!confirm('Lancer la webcam?'))return;document.querySelector('.video-overlay').style.display='none';startInitialCountdown();}document.getElementById('start-btn').addEventListener('click',startImpro);
    function startInitialCountdown(){let c=5;document.getElementById('initial-countdown-overlay').style.display='flex';document.getElementById('initial-countdown').textContent=c;countdown=setInterval(()=>{c--;if(c>0)document.getElementById('initial-countdown').textContent=c;else{clearInterval(countdown);document.getElementById('initial-countdown-overlay').style.display='none';initiateRecording();}},1000);}async function initiateRecording(){const stream=await navigator.mediaDevices.getUserMedia({video:true,audio:true});document.getElementById('preview').srcObject=stream;mediaRecorderInstance=new MediaRecorder(stream);recordedChunks=[];mediaRecorderInstance.ondataavailable=e=>{if(e.data.size>0)recordedChunks.push(e.data)};mediaRecorderInstance.onstop=()=>{const blob=new Blob(recordedChunks,{type:'video/mp4'});videoURL=URL.createObjectURL(blob);stream.getTracks().forEach(t=>t.stop());document.querySelector('.video-overlay').innerHTML='<p style="color:#fff">Impro terminée, passe à l’étape suivante.</p>';isImproRecordingStarted=true;nextBtns[3].classList.add('pulse');clearInterval(timerInterval);document.getElementById('recording-indicator').style.display='none'};mediaRecorderInstance.start();document.getElementById('recording-indicator').style.display='flex';startTimer();}
    function startTimer(){timeRemaining=120;timerInterval=setInterval(()=>{timeRemaining--;document.getElementById('countdown').textContent=`${Math.floor(timeRemaining/60)}:${timeRemaining%60<10?'0'+timeRemaining%60:timeRemaining%60}`;if(timeRemaining<0){clearInterval(timerInterval);mediaRecorderInstance.stop();}},1000);}document.getElementById('stop-btn').addEventListener('click',()=>{if(mediaRecorderInstance&&mediaRecorderInstance.state==='recording'){mediaRecorderInstance.stop();clearInterval(timerInterval)}});document.getElementById('restart-btn').addEventListener('click',()=>{if(!confirm('Recommencer?'))return;isImproRecordingStarted=false;document.querySelector('.video-overlay').innerHTML='<p>Ta vidéo va s’enregistrer ici.</p><button id="start-btn">Démarrer ton impro <i class="fas fa-video"></i></button>';startInitialCountdown();bindButtons();});
    /* Step4 */document.getElementById('download-video-btn').addEventListener('click',()=>{if(confirm('Télécharger?')&&videoURL){const a=document.createElement('a');a.href=videoURL;a.download='Impro.mp4';document.body.appendChild(a);a.click();document.body.removeChild(a);document.getElementById('contact-btn').classList.remove('disabled');}});document.getElementById('contact-yes').addEventListener('click',e=>{e.preventDefault();showBox(4,5)});document.getElementById('contact-no').addEventListener('click',e=>{e.preventDefault();document.getElementById('feedback-btn').classList.remove('disabled')} );document.getElementById('feedback-btn').addEventListener('click',()=>{if(!document.getElementById('feedback-btn').classList.contains('disabled'))window.location.href='https://www.letmotiv.fr/simulateur-prise-de-parole-en-public/feedback-impro';});
    /* Newsletter */document.getElementById('newsletter-form').addEventListener('submit',e=>{e.preventDefault();let ok=true;['prenom','email'].forEach(f=>{const inp=document.getElementById('newsletter-'+f),err=document.getElementById('newsletter-'+f+'-error');err.style.display='none';if(!inp.value.trim()){err.textContent=`${f} requis.`;err.style.display='block';ok=false}});if(!ok)return;document.getElementById('hidden-prenom').value=document.getElementById('newsletter-prenom').value;document.getElementById('hidden-email').value=document.getElementById('newsletter-email').value;document.getElementById('hidden-google-form').submit();document.getElementById('newsletter-success').style.display='block';setTimeout(()=>document.getElementById('newsletter-success').style.display='none',5000);
    });
    function bindButtons(){document.getElementById('start-btn').addEventListener('click',startImpro);document.getElementById('stop-btn').addEventListener('click',()=>mediaRecorderInstance.stop());}
    document.addEventListener('DOMContentLoaded',()=>{bindButtons();if(window.location.hash){const s=window.location.hash.replace('#step','');if(boxes[s])showBox(0,s);} });
  </script>
</body>
</html>
